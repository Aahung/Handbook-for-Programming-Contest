% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\usepackage[utf8]{inputenc}
\DeclareUnicodeCharacter{00A0}{\nobreakspace}
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}

\addto\captionsenglish{\renewcommand{\figurename}{Fig. }}
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\floatname{literal-block}{Listing }



\title{Handbook for Programming Contest}
\date{May 09, 2015}
\release{0.1 alpha}
\author{Xinhong}
\newcommand{\sphinxlogo}{}
\renewcommand{\releasename}{Release}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@mb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\renewcommand\PYGZsq{\textquotesingle}

\begin{document}

\maketitle
\tableofcontents
\phantomsection\label{index::doc}

\begin{itemize}
\item {} 
PDF

\item {} 
\href{https://github.com/Aahung/Handbook-for-Programming-Contest}{GitHub}

\end{itemize}

Contents:


\chapter{Intro}
\label{intro:intro}\label{intro::doc}\label{intro:handbook-for-programming-contest}
The handbook is for quick look on general programming contest like ACM.

The handbook is built with Sphinx. Lanuage demostrated here is C/C++.


\section{Motivation}
\label{intro:motivation}
I have been using the code template made by Shanghai JiaoTong
University for a long time. And I found some problems.


\subsection{The codes are ``bad codes''}
\label{intro:the-codes-are-bad-codes}
When I say the code is bad doesn't mean the code doesn't work or performance is poor.
As a code template, I think the goal is to achive
\begin{itemize}
\item {} 
it works

\item {} 
avoid mistyping (due to the tense in the contest environment)

\end{itemize}

While the second is a huge problem. I know sometimes in order to type fast,
the variables' name may need to be as short as possible.
But readability is really an issue considering the insanely short variables
in the template made by Shanghai JiaoTong University.

A nice code style gives you a nice mood during the contest. So in this handbook,
the variables' naming will be \emph{intention-revealing}, readability is first concern,
I need you to understand the code first, then you will not make typing mistake,
finally you will type fast.


\section{Contribution}
\label{intro:contribution}
This handbook is currently at very beginning, where content is far away from \textbf{enough}.
If you are interested in making it better, please \textbf{DO}.


\chapter{Topics}
\label{topics:topics}\label{topics::doc}
Contents:


\section{I/O}
\label{topics/io::doc}\label{topics/io:i-o}
I/O exists in every program, in most cases it is easy, some cases are annoying.

I recommend you to use C instead C++ especially when the input or output is small.
The advantage of performance using C I/O is obvious, while C++ may handle some
situation quite friendly.


\subsection{In}
\label{topics/io:in}

\subsubsection{scanf}
\label{topics/io:scanf}
Reading from stdio, we often use \code{scanf} (\href{http://en.cppreference.com/w/cpp/io/c/fscanf}{scanf doc}).

For example:

\begin{Verbatim}[commandchars=\\\{\}]
scanf(\PYGZdq{}\PYGZpc{}d\PYGZdq{}, \PYGZam{}a\PYGZus{}int); // read int
scanf(\PYGZdq{}\PYGZpc{}ld\PYGZdq{}, \PYGZam{}a\PYGZus{}long); // read long
scanf(\PYGZdq{}\PYGZpc{}lld\PYGZdq{}, \PYGZam{}a\PYGZus{}longlong); // read long long
scanf(\PYGZdq{}\PYGZpc{}llu\PYGZdq{}, \PYGZam{}a\PYGZus{}unsignedlonglong); // read unsigned long long
scanf(\PYGZdq{}\PYGZpc{}f\PYGZdq{}, \PYGZam{}a\PYGZus{}float); // read float
scanf(\PYGZdq{}\PYGZpc{}lf\PYGZdq{}, \PYGZam{}a\PYGZus{}double); // read double
\end{Verbatim}

and of course, character array:

\begin{Verbatim}[commandchars=\\\{\}]
char string[LENGTH];
scanf(\PYGZdq{}\PYGZpc{}s\PYGZdq{}, \PYGZam{}string);
\end{Verbatim}


\subsubsection{gets}
\label{topics/io:gets}
While if you want to read a whole line string containing spaces, \code{scanf} may not
be the best choice, and \code{gets} (\href{http://en.cppreference.com/w/cpp/io/c/gets}{gets doc}) is obviously better. (although some IDE will warn
you it is not safe, go to hell!)

Here is an example:

\begin{Verbatim}[commandchars=\\\{\}]
char string[LENGTH];
gets(string);
\end{Verbatim}

WATCH OUT!! In this case, special attentions: if the stdin is:

\begin{Verbatim}[commandchars=\\\{\}]
1
I am lucky!
\PYGZlt{}EOF\PYGZgt{}
\end{Verbatim}

and the code is:

\begin{Verbatim}[commandchars=\\\{\}]
int i;
scanf(\PYGZdq{}\PYGZpc{}d\PYGZdq{}, \PYGZam{}i);
char string\PYGZus{}unlucky[100], string\PYGZus{}lucky[100];
gets(string\PYGZus{}unlucky);
gets(string\PYGZus{}lucky);
printf(\PYGZdq{}string\PYGZus{}unlucky is: \PYGZpc{}s\PYGZbs{}n\PYGZdq{}, string\PYGZus{}unlucky);
printf(\PYGZdq{}  string\PYGZus{}lucky is: \PYGZpc{}s\PYGZbs{}n\PYGZdq{}, string\PYGZus{}lucky);
\end{Verbatim}

You will get the output:

\begin{Verbatim}[commandchars=\\\{\}]
string\PYGZus{}unlucky is:
  string\PYGZus{}lucky is: I am lucky!
\end{Verbatim}

try to figure out why.


\subsection{Out}
\label{topics/io:out}

\subsubsection{printf}
\label{topics/io:printf}
Basically, we use \code{printf} (\href{http://en.cppreference.com/w/cpp/io/c/fprintf}{printf doc}) for put content to stdout.

Just do it similarly:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{printf}\PYG{p}{(}\PYG{l+s}{\PYGZdq{}}\PYG{l+s+si}{\PYGZpc{}d}\PYG{l+s}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{a\PYGZus{}int}\PYG{p}{)}\PYG{p}{;}
\end{Verbatim}


\section{Evaluation}
\label{topics/evaluation:evaluation}\label{topics/evaluation::doc}

\subsection{Expression Forms}
\label{topics/evaluation:expression-forms}
Normally there are three forms of expression:
\begin{itemize}
\item {} 
Infix (daily life)

\item {} 
Prefix

\item {} 
Postfix

\end{itemize}


\subsubsection{Infix}
\label{topics/evaluation:infix}
Infix expression has this form \((a + b) \times c\), we are familiar with
this form and we use it every day, while it is not friendly when we want to
evaluate it :-(.


\subsubsection{Prefix}
\label{topics/evaluation:prefix}
Prefix expression has this form \(\times + a b c\), which operator goes
first, then operands.


\subsubsection{Postfix}
\label{topics/evaluation:postfix}
Postfix expression has this form \(a b + c \times\), which operator goes
after operands.


\subsection{Expression Evaluation}
\label{topics/evaluation:expression-evaluation}
Among the three forms, Infix is the hardest to evaluate, and the other two
are relatively easy.


\subsubsection{Postfix}
\label{topics/evaluation:id1}\begin{enumerate}
\item {} 
Create a stack to store operands

\item {} 
Scan the expression from left to right, token by token
\begin{itemize}
\item {} 
if the token is an operand, push it to stack

\item {} 
if the token is an operator, pop the operands and
apply operetor to the operands in the stack and
push the result back to stack

\end{itemize}

\end{enumerate}

Here is an example, the operands are single-digit integers, and operators are \code{+ - * /}.

\begin{Verbatim}[commandchars=\\\{\}]
\PYGZsh{}include \PYGZlt{}stdio.h\PYGZgt{}
\PYGZsh{}include \PYGZlt{}stack\PYGZgt{}
\PYGZsh{}include \PYGZlt{}string.h\PYGZgt{}

bool is\PYGZus{}operator(char character) \PYGZob{}
    if (character == \PYGZsq{}+\PYGZsq{} \textbar{}\textbar{} character == \PYGZsq{}\PYGZhy{}\PYGZsq{}
          \textbar{}\textbar{} character == \PYGZsq{}*\PYGZsq{} \textbar{}\textbar{} character == \PYGZsq{}/\PYGZsq{})
        return true;
    else
        return false;
\PYGZcb{}

int perform\PYGZus{}operation(char the\PYGZus{}operator,
      int operand\PYGZus{}left, int operand\PYGZus{}right) \PYGZob{}
    if (the\PYGZus{}operator == \PYGZsq{}+\PYGZsq{}) return operand\PYGZus{}left + operand\PYGZus{}right;
    else if (the\PYGZus{}operator == \PYGZsq{}\PYGZhy{}\PYGZsq{}) return operand\PYGZus{}left \PYGZhy{} operand\PYGZus{}right;
    else if (the\PYGZus{}operator == \PYGZsq{}*\PYGZsq{}) return operand\PYGZus{}left * operand\PYGZus{}right;
    else return operand\PYGZus{}left / operand\PYGZus{}right;
\PYGZcb{}

int evaluate\PYGZus{}postfix(char *expression) \PYGZob{}
    int length = strlen(expression);

    std::stack\PYGZlt{}int\PYGZgt{} operands;
    for (int i = 0; i \PYGZlt{} length; ++i) \PYGZob{}
        if (is\PYGZus{}operator(expression[i])) \PYGZob{}
            int operand\PYGZus{}right = operands.top(); // right comes first
            operands.pop();
            int operand\PYGZus{}left = operands.top();
            operands.pop();
            operands.push(perform\PYGZus{}operation(expression[i],
                          operand\PYGZus{}left, operand\PYGZus{}right));
        \PYGZcb{} else \PYGZob{}
            operands.push(expression[i] \PYGZhy{} \PYGZsq{}0\PYGZsq{});
        \PYGZcb{}
    \PYGZcb{}
    return operands.top();
\PYGZcb{}

int main() \PYGZob{}
    char expression[] = \PYGZdq{}12+3*4+\PYGZdq{};
        printf(\PYGZdq{}\PYGZpc{}s = \PYGZpc{}d\PYGZbs{}n\PYGZdq{}, expression, evaluate\PYGZus{}postfix(expression));
\PYGZcb{}
\end{Verbatim}

and the output is:

\begin{Verbatim}[commandchars=\\\{\}]
12+3*4+ = 13
\end{Verbatim}


\subsubsection{Prefix}
\label{topics/evaluation:id2}
Similar to postfix.


\subsubsection{Infix}
\label{topics/evaluation:id3}
Translate into postfix then evaluate it. (smart)


\chapter{Indices and tables}
\label{index:indices-and-tables}\begin{itemize}
\item {} 
\DUspan{xref,std,std-ref}{genindex}

\item {} 
\DUspan{xref,std,std-ref}{modindex}

\item {} 
\DUspan{xref,std,std-ref}{search}

\end{itemize}



\renewcommand{\indexname}{Index}
\printindex
\end{document}
